---
title: "DSCI 522: Historical Horse Population in Canada"
author: "Aitong Wu"
format:
  html:
    toc: true
    toc-depth: 3
  pdf:
    toc: true
    toc-depth: 3
bibliography: references.bib
execute:
  echo: false
editor: source
---

```{python}
import pandas as pd

horses_sd_table = pd.read_csv("../results/horses_sd.csv")
largest_sd = horses_sd_table["Province"].iloc[0]
```

# Aim

The aim of this report is to explore historical horse population trends in Canada between 1906 and 1972 and identify which provinces experienced the greatest variation in horse population sizes.

# Data

The dataset used in this analysis originates from the
[Government of Canada's Open Data website](http://open.canada.ca/en/open-data) [@horses1; @horses2].
It contains annual horse population counts for each province across multiple decades.

# Methods

We used a provided analysis script to clean the data, compute summary statistics, and generate visualizations.
Specifically, we created:

* a line plot showing horse population trends for all provinces;
* a second plot zooming into the province with the greatest variability;
* a table summarizing the standard deviation of horse population counts across provinces.

All figures and tables were generated using the script located in `scripts/generate_figures.py`.

# Results

## Overall horse population trends

The population of horses varies widely across Canadian provinces.
Figure @fig-horse-pop shows that provinces such as Ontario, Saskatchewan, and Alberta historically maintained substantially higher horse populations than others.

![Horse populations for all provinces in Canada from 1906–1972.](../results/horse_pops_plot.png){#fig-horse-pop width=60%}

## Province with the greatest variability

To better understand population spread, we computed the standard deviation of each province’s horse counts.
The province with the highest variability is **`{python} largest_sd`**.

Figure @fig-horse-largest highlights the horse population pattern for this province.

![Historical number of horses in the province with highest variability.](../results/horse_pops_plot_largest_sd.png){#fig-horse-largest width=60%}

## Standard deviation table

Table @tbl-horse-sd displays the standard deviation of horse populations for all provinces.

```{python}
#| label: tbl-horse-sd
#| tbl-cap: Standard deviation of historical (1906–1972) horse populations for each Canadian province.

horses_sd_table
```

# References

